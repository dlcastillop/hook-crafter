{"version":3,"sources":["../src/index.ts","../src/utils/logger.ts","../src/utils/package-actions.ts"],"sourcesContent":["#!/usr/bin/env node\r\nimport { Command } from \"commander\";\r\nimport { copy } from \"fs-extra\";\r\nimport { dirname, resolve } from \"path\";\r\nimport { fileURLToPath } from \"url\";\r\nimport prompts from \"prompts\";\r\nimport { logger } from \"@/src/utils/logger\";\r\nimport { updatePackageName } from \"@/src/utils/package-actions\";\r\n\r\nprocess.on(\"SIGINT\", () => process.exit(0));\r\nprocess.on(\"SIGTERM\", () => process.exit(0));\r\n\r\nasync function main() {\r\n  const program = new Command()\r\n    .name(\"create-hook-crafter\")\r\n    .description(\"Set up your React hook library in seconds\")\r\n    .action(async () => {\r\n      const { path }: { path: string } = await prompts({\r\n        type: \"text\",\r\n        name: \"path\",\r\n        message: \"Project name:\",\r\n        instructions: false,\r\n      });\r\n\r\n      const __dirname = dirname(fileURLToPath(import.meta.url));\r\n      const templatePath = resolve(__dirname, \"../template\");\r\n      const destinationPath = resolve(process.cwd(), `${path}`);\r\n\r\n      const pathSplitted = path.split(\"/\");\r\n      const projectName = pathSplitted[pathSplitted.length - 1];\r\n\r\n      try {\r\n        await copy(templatePath, destinationPath);\r\n      } catch (e) {\r\n        logger.error(\"Error copying template. Exiting.\");\r\n      }\r\n\r\n      updatePackageName(projectName, destinationPath);\r\n    });\r\n\r\n  program.parse();\r\n}\r\n\r\nmain();\r\n","import chalk from \"chalk\"\n\nexport const logger = {\n  error(...args: unknown[]) {\n    console.log(chalk.red(...args))\n  },\n  warn(...args: unknown[]) {\n    console.log(chalk.yellow(...args))\n  },\n  info(...args: unknown[]) {\n    console.log(chalk.cyan(...args))\n  },\n  success(...args: unknown[]) {\n    console.log(chalk.green(...args))\n  },\n  break() {\n    console.log(\"\")\n  },\n}\n","import { readJSONSync, writeJSONSync } from \"fs-extra\";\r\nimport { dirname, resolve } from \"path\";\r\nimport { fileURLToPath } from \"url\";\r\n\r\nexport const updatePackageName = (newName: string, packageJsonDir: string) => {\r\n  const __dirname = dirname(fileURLToPath(import.meta.url));\r\n  const _packageJsonPath = resolve(__dirname, packageJsonDir, \"package.json\");\r\n\r\n  const packageJson = readJSONSync(_packageJsonPath);\r\n  packageJson.name = newName;\r\n  writeJSONSync(_packageJsonPath, packageJson, { spaces: 2 });\r\n};\r\n"],"mappings":";AACA,OAAS,WAAAA,MAAe,YACxB,OAAS,QAAAC,MAAY,WACrB,OAAS,WAAAC,EAAS,WAAAC,MAAe,OACjC,OAAS,iBAAAC,MAAqB,MAC9B,OAAOC,MAAa,UCLpB,OAAOC,MAAW,QAEX,IAAMC,EAAS,CACpB,SAASC,EAAiB,CACxB,QAAQ,IAAIF,EAAM,IAAI,GAAGE,CAAI,CAAC,CAChC,EACA,QAAQA,EAAiB,CACvB,QAAQ,IAAIF,EAAM,OAAO,GAAGE,CAAI,CAAC,CACnC,EACA,QAAQA,EAAiB,CACvB,QAAQ,IAAIF,EAAM,KAAK,GAAGE,CAAI,CAAC,CACjC,EACA,WAAWA,EAAiB,CAC1B,QAAQ,IAAIF,EAAM,MAAM,GAAGE,CAAI,CAAC,CAClC,EACA,OAAQ,CACN,QAAQ,IAAI,EAAE,CAChB,CACF,EClBA,OAAS,gBAAAC,EAAc,iBAAAC,MAAqB,WAC5C,OAAS,WAAAC,EAAS,WAAAC,MAAe,OACjC,OAAS,iBAAAC,MAAqB,MAEvB,IAAMC,EAAoB,CAACC,EAAiBC,IAA2B,CAC5E,IAAMC,EAAYN,EAAQE,EAAc,YAAY,GAAG,CAAC,EAClDK,EAAmBN,EAAQK,EAAWD,EAAgB,cAAc,EAEpEG,EAAcV,EAAaS,CAAgB,EACjDC,EAAY,KAAOJ,EACnBL,EAAcQ,EAAkBC,EAAa,CAAE,OAAQ,CAAE,CAAC,CAC5D,EFFA,QAAQ,GAAG,SAAU,IAAM,QAAQ,KAAK,CAAC,CAAC,EAC1C,QAAQ,GAAG,UAAW,IAAM,QAAQ,KAAK,CAAC,CAAC,EAE3C,eAAeC,GAAO,CACJ,IAAIC,EAAQ,EACzB,KAAK,qBAAqB,EAC1B,YAAY,2CAA2C,EACvD,OAAO,SAAY,CAClB,GAAM,CAAE,KAAAC,CAAK,EAAsB,MAAMC,EAAQ,CAC/C,KAAM,OACN,KAAM,OACN,QAAS,gBACT,aAAc,EAChB,CAAC,EAEKC,EAAYC,EAAQC,EAAc,YAAY,GAAG,CAAC,EAClDC,EAAeC,EAAQJ,EAAW,aAAa,EAC/CK,EAAkBD,EAAQ,QAAQ,IAAI,EAAG,GAAGN,CAAI,EAAE,EAElDQ,EAAeR,EAAK,MAAM,GAAG,EAC7BS,EAAcD,EAAaA,EAAa,OAAS,CAAC,EAExD,GAAI,CACF,MAAME,EAAKL,EAAcE,CAAe,CAC1C,MAAY,CACVI,EAAO,MAAM,kCAAkC,CACjD,CAEAC,EAAkBH,EAAaF,CAAe,CAChD,CAAC,EAEK,MAAM,CAChB,CAEAT,EAAK","names":["Command","copy","dirname","resolve","fileURLToPath","prompts","chalk","logger","args","readJSONSync","writeJSONSync","dirname","resolve","fileURLToPath","updatePackageName","newName","packageJsonDir","__dirname","_packageJsonPath","packageJson","main","Command","path","prompts","__dirname","dirname","fileURLToPath","templatePath","resolve","destinationPath","pathSplitted","projectName","copy","logger","updatePackageName"]}